plugins {
    id "com.android.application"
    id "kotlin-android"
    id "com.google.gms.google-services" // Firebase
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    namespace = "com.example.flutter_application_1"
    compileSdk = 34  // Version du SDK Android à compiler
    ndkVersion = "25.1.8937393" // Version du NDK si nécessaire

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }

    kotlinOptions {
        jvmTarget = "11"
    }

    defaultConfig {
        applicationId = "com.example.flutter_application_1"
        minSdk = 21      // Version minimale prise en charge par Flutter
        targetSdk = 34   // Version cible
        versionCode = 1
        versionName = "1.0.0"
    }

    buildTypes {
    release {
        minifyEnabled true // Active la réduction du code inutilisé
        shrinkResources true // Active la suppression des ressources inutilisées
        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
    }
    debug {
        minifyEnabled false // Désactive pour le build de débogage
        shrinkResources false // Désactive pour le build de débogage
    }
}

}

flutter {
    source = "../.."
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.buildDir = "../build"
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
}
subprojects {
    project.evaluationDependsOn(":app")
}

